<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>CodePen - Invoice Generator</title>
	<link rel='stylesheet' href='//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css'>
	<link rel='stylesheet' href='//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css'>
	<link rel="stylesheet" href="./style.css">

</head>

<body>

	<div id="capture" style="width:650px; ; padding: 10px 10px 90px 10px;; margin: auto; background: #ffffff">

		<div class="upper"> <img src="title.png" style="width: 630px; "> </div>
			

	

		<div CLASS="fat" style=" font-weight: 900; margin: auto; width: 20%; text-align: center;">
			<a style="font-weight:bold; color: black;"> فاتـــــــــورة </a>
			<hr style="margin: 1px; border-color: black;">
			<a style="color: black;"> INVOICE </a>
		</div>

		<div class="dateandNo" style="display: flex; justify-content: space-between;">
			<div class="No"> No. <input type="text"
					style="border: none; background: none; outline: none; font-size: 14px; color: #3a3a3a; font-family: Arial, sans-serif;"
					value="0089"> </div>
			<div class="date" style=" position: relative; width:160px;">
				<h3 style="position: absolute; top:-16px; right: 112px; font-size: 18px; ;"> Date: </h3>
				<input type="text" id="dateTextbox"
					style="position: absolute; right: 40px; color: rgb(85, 85, 85); border: none; background: none; outline: none; width: 70px;">

				<h3 style="position: absolute; top:-16px; right: -4px; font-size: 18px; ;"> التاريخ </h3>
			</div>
		</div>
		<br>
		<div class="mr" style="position: relative; text-align:left; font-weight: bold;">
			Mr./M/s.
			...........................................................................................................................
			:

			<input type="text"
				style="   width: 300px; text-align: center;	font-size: 15px; color: rgb(58, 58, 58); position: absolute; left:10%; top:-5px; background: none; border: none;"
				value="Name">
			<h3 style="position: absolute; font-size: 14px; top:-17px; right: 10px;;;"> الفاضل/الأفاضل </h3>
		</div>


		<div class="items">
			<table id="head" style="width:635px; ">
				<thead>
					<tr>
						<th>
							<img src="tit.png" style="width: 610px;">
						</th>
					</tr>
				</thead>
			</table>

			<table id="invoice" style="width:635px;">
				<thead>
				</thead>
				<tbody>
					<tr>
						<td>1</td>
						<td contenteditable="true">Item 1</td>
						<td contenteditable="true">1</td>
						<td contenteditable="true">00</td>
						<td contenteditable="true">000</td>
						<td>00</td>
						<td>00</td>
					</tr>
				</tbody>
			</table>
			<table id="tot" style="width:635px;">
				<thead>
					<tr>
						<th style="position: relative; text-align: center;">
							<h3 id="demo" style="font-size: 15px; top: -10px; position: absolute; margin-left: 32%; ">
							</h3>
							<a style="color: #353535; float: left;"> Total R.O.
								_______________________________________________ ر.ع. </a>
							<a style="color: #353535; float: right;"> ريال عماني </a>

						</th>
						<th> x </th>
						<th> y </th>
					</tr>
				</thead>
			</table>

			<button id="add-item">Add Item</button>


			<br>
		</div>

		<div id="sign" style="position: relative; ">
			<img id="img" src="stamp.png">
			<img src="sign.png" style="width: 200px; position: absolute; z-index: 0;">
		</div>

	</div>

	<br>
	<div style=" display: flex;
	justify-content: center; margin-right:auto; padding:20PX ; border-style: none; background-color: cadetblue;">
		<button id="btn" style="padding:20PX ; border-style: none; "> تحميل </button>

	</div>
	<div style="display: none;" id="total">Total: <span id="total-amount">10</span></div>
	<input style="display: none;" type="number" id="txt" max="99999999999999" step="any" />
	<input style="display: none;" type="number" id="biza" max="99999999999999" step="any" />
	<script src="Tafqeet.js"></script>
	<script src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
	<script src='//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js'></script>
	<script src="./script.js"></script>
	<script src="html2canvas.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<script src="jspdf.min.js"></script>
	<script src="canvasjs.min.js"></script>

	<script>
		// Get today's date
		var today = new Date();

		// Format the date as YYYY-MM-DD
		var formattedDate = today.getDate() + '-' + (today.getMonth() + 1) + '-' + today.getFullYear();

		// Set the default value of the textbox to today's date
		document.getElementById('dateTextbox').value = formattedDate;
	</script>

	<script>

		$("#btn").click(function () {
			document.getElementById('add-item').style.display = 'none';

			// Get the width and height of the capture div
			var captureWidth = $("#capture").width();
			var captureHeight = $("#capture").height();

			var realative = captureWidth / captureHeight
			var newheight = 180 / realative + 30
			// Show the width and height in an alert



			html2canvas(document.querySelector("#capture")).then(canvas => {
				var dataURL = canvas.toDataURL();
				var pdf = new jsPDF();
				pdf.addImage(dataURL, 'JPEG', 20, 20, 180, newheight); //addImage(image, format, x-coordinate, y-coordinate, width, height)
				pdf.save("CanvasJS Charts.pdf");
			});


		});

	</script>
</body>

</html>